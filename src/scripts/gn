#!/usr/bin/env bash

set -e

if [[ $# -ne 0 ]]; then
    echo "$0"
    echo
    echo "Copy name of first modified file in git repo, or first untracked"
    echo "file if no such file exists."
    exit 1
fi

SCRIPT_DIR="$( cd "$(dirname "${BASH_SOURCE[0]}")" && pwd -P )"

FILE="$( ( git ls-files -m && git ls-files --exclude-standard -o ) | head -n 1 )"
if [[ -n $FILE ]]; then
    "$SCRIPT_DIR/cb" <<< "$FILE"
    echo "Copied \"$FILE\""
else
    echo "No such file."
fi
